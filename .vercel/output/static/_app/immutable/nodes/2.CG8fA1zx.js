import{a as g,t as h,c as A,d as E}from"../chunks/disclose-version.CG5hTWpr.js";import"../chunks/legacy.DMQsNOF5.js";import{N as $,a0 as o,$ as a,a1 as s,q as _,_ as x,P as M,a3 as C,a2 as y,Z as F}from"../chunks/runtime.B2m3c4KW.js";import{s as K}from"../chunks/app.BnBwxNld.js";import{s as b}from"../chunks/render.BXKZ4uvC.js";import{i as N}from"../chunks/if.CLE4ZDTq.js";import{i as S}from"../chunks/lifecycle.DgiMNZUZ.js";import{p as J,s as Q,b as X}from"../chunks/props.B5KJxzWt.js";import{o as U}from"../chunks/index-client.DL5aVg2g.js";import{s as D}from"../chunks/attributes.yIgsp9nR.js";import{e as tt}from"../chunks/events.wfuHi9lk.js";import{D as et}from"../chunks/default-plant.D_b5aWgR.js";import{w as at}from"../chunks/index.DpbBM64M.js";const nt=""+new URL("../assets/Vector.CFqtle_u.png",import.meta.url).href,ot=""+new URL("../assets/vine.BhanfZ1c.png",import.meta.url).href,st=""+new URL("../assets/Bumblebee.BJaV_5i8.png",import.meta.url).href;var rt=h('<div class="w-72 h-50 bg-white shadow-md border border-forest-green p-4 relative"><span class="absolute w-24 h-21 -top-4 right-0 flex items-center"><img alt="Bumblebee"></span> <div class="space-y-2 text-gray-800"><div><span class="font-semibold">Common Name:</span> </div> <div><span class="font-semibold">Scientific Name:</span> </div> <div><span class="font-semibold">Other Name:</span> </div> <div><span class="font-semibold">Sunlight:</span> </div> <div><span class="font-semibold">Watering:</span> </div> <!></div></div>'),it=h('<div class="flex flex-wrap items-center justify-center gap-10 mt-5"><div class="relative w-80 h-80 flex items-center justify-center"><img alt="Background vector" class="absolute top-0 left-0 w-full h-full"> <div class="relative w-56 h-56 bg-white rounded-full flex items-center justify-center shadow-md border border-gray-300"><img class="w-full h-full object-cover rounded-full"> <button class="absolute bottom-2 left-2 bg-black text-white text-sm px-2 py-1 rounded-full cursor-pointer">âž¤ see more</button></div> <img alt="Vine" class="absolute bottom-0 right-0 w-32"></div> <!></div>');function lt(d,r){$(r,!1);let t=J(r,"plantData",8),e=C(!1);function i(){y(e,!_(e))}S();var f=it(),c=o(f),m=o(c);D(m,"src",nt);var v=a(m,2),u=o(v),n=a(u,2);s(v);var l=a(v,2);D(l,"src",ot),s(c);var w=a(c,2);{var P=p=>{var I=rt(),k=o(I),R=o(k);D(R,"src",st),s(k);var O=a(k,2),L=o(O),q=a(o(L));s(L);var j=a(L,2),H=a(o(j));x(()=>b(H,` ${(t().scientific_name?t().scientific_name.join(", "):"Not available")??""}`)),s(j);var B=a(j,2),W=a(o(B));s(B);var T=a(B,2),Z=a(o(T));s(T);var G=a(T,2),Y=a(o(G));s(G);var z=a(G,2);N(z,ht=>{}),s(O),s(I),x(()=>{b(q,` ${t().common_name||"Unknown Plant"}`),b(W,` ${t().other_name||"Not available"}`),b(Z,` ${t().sunlight||"Not specified"}`),b(Y,` ${t().watering||"Not specified"}`)}),g(p,I)};N(w,p=>{_(e)&&p(P)})}s(f),x(()=>{var p;D(u,"src",((p=t().default_image)==null?void 0:p.regular_url)||et),D(u,"alt",t().common_name||"Default Plant")}),tt("click",n,i),g(d,f),M()}var ct=h("<section><!></section>");function mt(d,r){$(r,!1);let t=J(r,"slotContent",8,"Loading daily plant..."),e=C(null),i=null;typeof window<"u"&&(i=localStorage.getItem("lastGeneratedDate")||null);const f=async()=>{try{const l=await(await fetch("https://perenual.com/api/species-list?key=sk-L9WP675b80ec7662a7987")).json();l.data&&l.data.length>0&&(y(e,l.data[Math.floor(Math.random()*l.data.length)]),typeof window<"u"&&(localStorage.setItem("lastGeneratedPlant",JSON.stringify(_(e))),localStorage.setItem("lastGeneratedDate",new Date().toISOString())))}catch(n){console.error("Failed to fetch plant data:",n)}};U(async()=>{if(typeof window>"u")return;const n=new Date,l=new Date(n.getFullYear(),n.getMonth(),n.getDate()),w=i?new Date(i):null;!w||w<l?await f():y(e,JSON.parse(localStorage.getItem("lastGeneratedPlant")))}),S();var c=ct(),m=o(c);{var v=n=>{lt(n,{get plantData(){return _(e)}})},u=n=>{var l=A(),w=F(l);K(w,r,"default",{},P=>{var p=E();x(()=>b(p,t())),g(P,p)}),g(n,l)};N(m,n=>{_(e)?n(v):n(u,!1)})}s(c),g(d,c),M()}var dt=h('<div class="font-lohit text-xl"> </div>');function ft(d,r){$(r,!1);let t=C();U(()=>{y(t,new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))}),S();var e=dt(),i=o(e,!0);s(e),x(()=>b(i,_(t))),g(d,e),M()}const vt=()=>{const d=new Date,r=new Date;r.setHours(24,0,0,0);const t=Number(r)-Number(d);return{hours:Math.floor(t/(1e3*60*60)%24),minutes:Math.floor(t/(1e3*60)%60),seconds:Math.floor(t/1e3%60)}},V=at(vt());var ut=h("<p> </p>"),pt=h("<div><!></div>");function gt(d,r){$(r,!1);const t=Q(),e=()=>X(V,"$plantTimer",t);U(()=>{const m=setInterval(()=>{V.update(v=>{const u=new Date,n=new Date;n.setHours(24,0,0,0);const l=Number(n)-Number(u);return{hours:Math.floor(l/36e5%24),minutes:Math.floor(l/6e4%60),seconds:Math.floor(l/1e3%60)}})},1e3);return()=>clearInterval(m)}),S();var i=pt(),f=o(i);{var c=m=>{var v=ut(),u=o(v);s(v),x(()=>b(u,`New plant in: ${e().hours??""}h ${e().minutes??""}m ${e().seconds??""}s`)),g(m,v)};N(f,m=>{e()&&m(c)})}s(i),g(d,i),M()}var bt=h('<section class="flex flex-col items-center mb-4"><div class="text-6xl font-bold mb-4 text-center">Plant of the Day</div></section> <section class="flex justify-center mb-6"><!></section> <section class="flex flex-col items-center mb-6"><div class="text-xl font-semibold mb-2">Time till new plant:</div> <!></section> <section class="mb-32"><!></section>',1);function jt(d){var r=bt(),t=a(F(r),2),e=o(t);ft(e,{}),s(t);var i=a(t,2),f=a(o(i),2);gt(f,{}),s(i);var c=a(i,2),m=o(c);mt(m,{}),s(c),g(d,r)}export{jt as component};
